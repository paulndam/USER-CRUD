{"ast":null,"code":"import _slicedToArray from\"/Users/paulndam/Documents/CODINGDOJO/MERN/React/Sports-II/sport-2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";import{navigate}from\"@reach/router\";import moment from\"moment\";//editing header\nvar EditUserForm=function EditUserForm(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstname=_useState2[0],setfirstname=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastname=_useState4[0],setlastname=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),errors=_useState6[0],seterrors=_useState6[1];useEffect(function(){axios.get(\"http://localhost:8000/api/allusers/\".concat(props._id)).then(function(res){console.log(res);setfirstname(res.data.firstname);setlastname(res.data.lastname);}).catch(function(errors){return console.log(errors.message);});},[props._id]);//method to update\nvar UpdateUser=function UpdateUser(e){e.preventDefault();var userx={firstname:firstname,lastname:lastname};axios.put(\"http://localhost:8000/api/allusers/update/\".concat(props._id),userx).then(function(res){console.log(res);if(res.data.errors){seterrors(res.data.errors);}else{navigate(\"/allusers\");}}).catch(function(error){return console.log(errors.message);});};var removeUser=function removeUser(){axios.delete(\"http://localhost:8000/api/allusers/delete/\".concat(props._id)).then(function(res){console.log(res);navigate(\"/allusers\");}).catch(function(err){return console.log(err);});};return/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:UpdateUser},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"firstname\"},\"First name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",id:\"firstname\",\"aria-describedby\":\"firstname\",onChange:function onChange(e){return setfirstname(e.target.value);},value:firstname}),/*#__PURE__*/React.createElement(\"small\",{id:\"firstname\",className:\"form-text text-muted\"})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"label\",{for:\"lastname\"},\"Last name\"),/*#__PURE__*/React.createElement(\"input\",{type:\"lastname\",className:\"form-control\",id:\"lastname\",\"aria-describedby\":\"lastname\",onChange:function onChange(e){return setlastname(e.target.value);},value:lastname}),/*#__PURE__*/React.createElement(\"small\",{id:\"lastname\",className:\"form-text text-muted\"})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},\"Submit\")),/*#__PURE__*/React.createElement(\"div\",{className:\"col-sm-8 offset-sm-2 mt-5\"},/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger btn-block\",onClick:removeUser},\"Remove\"))));};export default EditUserForm;","map":{"version":3,"sources":["/Users/paulndam/Documents/CODINGDOJO/MERN/React/Sports-II/sport-2/src/components/EditUserForm.js"],"names":["React","useEffect","useState","axios","navigate","moment","EditUserForm","props","firstname","setfirstname","lastname","setlastname","errors","seterrors","get","_id","then","res","console","log","data","catch","message","UpdateUser","e","preventDefault","userx","put","error","removeUser","delete","err","target","value"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { navigate } from \"@reach/router\";\nimport moment from \"moment\";\n\n//editing header\n\nconst EditUserForm = (props) => {\n  const [firstname, setfirstname] = useState(\"\");\n  const [lastname, setlastname] = useState(\"\");\n  const [errors, seterrors] = useState({});\n\n  useEffect(() => {\n    axios\n      .get(`http://localhost:8000/api/allusers/${props._id}`)\n      .then((res) => {\n        console.log(res);\n        setfirstname(res.data.firstname);\n        setlastname(res.data.lastname);\n      })\n      .catch((errors) => console.log(errors.message));\n  }, [props._id]);\n\n  //method to update\n\n  const UpdateUser = (e) => {\n    e.preventDefault();\n    const userx = { firstname, lastname };\n    axios\n      .put(`http://localhost:8000/api/allusers/update/${props._id}`, userx)\n      .then((res) => {\n        console.log(res);\n        if (res.data.errors) {\n          seterrors(res.data.errors);\n        } else {\n          navigate(\"/allusers\");\n        }\n      })\n      .catch((error) => console.log(errors.message));\n  };\n\n  const removeUser = () => {\n    axios\n      .delete(`http://localhost:8000/api/allusers/delete/${props._id}`)\n      .then((res) => {\n        console.log(res);\n        navigate(\"/allusers\");\n      })\n      .catch((err) => console.log(err));\n  };\n\n  return (\n    <div className=\"row\">\n      <div className=\"col\">\n        <form onSubmit={UpdateUser}>\n          <div className=\"form-group\">\n            <label for=\"firstname\">First name</label>\n            <input\n              type=\"text\"\n              className=\"form-control\"\n              id=\"firstname\"\n              aria-describedby=\"firstname\"\n              onChange={(e) => setfirstname(e.target.value)}\n              value={firstname}\n            />\n            {/* {firstnameError ? (\n                    <p style={{ color: \"red\" }}>{firstnameError}</p>\n                  ) : (\n                    \"\"\n                  )} */}\n            <small id=\"firstname\" className=\"form-text text-muted\"></small>\n          </div>\n\n          <div className=\"form-group\">\n            <label for=\"lastname\">Last name</label>\n            <input\n              type=\"lastname\"\n              className=\"form-control\"\n              id=\"lastname\"\n              aria-describedby=\"lastname\"\n              onChange={(e) => setlastname(e.target.value)}\n              value={lastname}\n            />\n            {/* {lastnameError ? (\n                    <p style={{ color: \"red\" }}>{lastnameError}</p>\n                  ) : (\n                    \"\"\n                  )} */}\n            <small id=\"lastname\" className=\"form-text text-muted\"></small>\n          </div>\n\n          {/* <div className=\"form-group\">\n                  <label for=\"email\">Email</label>\n                  <input\n                    type=\"email\"\n                    className=\"form-control\"\n                    id=\"email\"\n                    aria-describedby=\"email\"\n                    onChange={validationsthree}\n                    // value=\"email\"\n                  />\n                  {emailError ? (\n                    <p style={{ color: \"red\" }}>{emailError}</p>\n                  ) : (\n                    \"\"\n                  )}\n                  <small id=\"email\" className=\"form-text text-muted\"></small>\n                </div>\n\n                <div className=\"form-group\">\n                  <label for=\"password\">Password</label>\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    id=\"password\"\n                    aria-describedby=\"password\"\n                    onChange={validationsfour}\n                    // value=\"password\"\n                  />\n                  {passwordError ? (\n                    <p style={{ color: \"red\" }}>{passwordError}</p>\n                  ) : (\n                    \"\"\n                  )}\n                  <small id=\"password\" className=\"form-text text-muted\"></small>\n                </div> */}\n\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Submit\n          </button>\n        </form>\n        <div className=\"col-sm-8 offset-sm-2 mt-5\">\n          <button className=\"btn btn-danger btn-block\" onClick={removeUser}>\n            Remove\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default EditUserForm;\n"]},"metadata":{},"sourceType":"module"}